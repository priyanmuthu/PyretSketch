void forall<T>([int n], fun f, ref T[n] x){
	for(int i=0; i<n; ++i){
		f(x[i]);
	}
}

harness void main() {
	int sum = 0;
	generator void gen(int t) {
		sum += t;
	}
	int[3] arr = {1, 2, 3};
	forall(gen, arr);
	assert sum == 6;
}
